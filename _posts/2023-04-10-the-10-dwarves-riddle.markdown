---
layout: single
title: "The Dwarves and Hats Riddle"
date: 2023-04-10
categories: riddles
header:
  teaser: /assets/images/posts/teasers/dwarves.png
---

Difficulty: ⭐⭐⭐

A wicked sorcerer has captured ten dwarves and decides to challenge them with a logical puzzle.

The ten dwarves are forced to queue in a straight line, with the tallest dwarf at the back and the shortest dwarf at the front.

The sorcerer puts either a black hat or a white hat on each dwarf's head at his discretion. Any combinations of black and white hats are allowed without any constraint on the number of hats by colour.

Each dwarf can see the color of the hats of the dwarves in front of him, but cannot see neither the color of his own hat nor the hats of the dwarves behind him.

The sorcerer informs the dwarves that he will ask each of them, starting with the tallest, to guess the color of his own hat. If a dwarf guesses correctly, he will be set free. If a dwarf guesses incorrectly, he will be turned into a toad. Dwarves hear the guess (and the rightness) of their previous fellows. The dwarves are allowed to confer before the sorcerer puts hats on their head. But once the guessing begins, they may not communicate with one another in any way.

What strategy can the dwarves use to maximize the number of dwarves who guess correctly, and how many dwarves can they guarantee will be set free?

⚠️ Spoiler alert: The sections below this image walkthrough solutions of this riddle.  

{% include figure image_path="/assets/images/posts/main/dwarves_and_hats_puzzle.png" alt="A snapshot of dwarves playing for their destiny" caption="A snapshot of dwarves playing for their destiny." %}

I was asked this riddle when I was a teenager. I was amazed by the effectiveness of the best strategy the dwarves could craft and how this collaborative problem solving was interesting in term of thought process. Since then, I have kept asking this problem to my fellows who were fond of riddles and I was surprised how many different strategies they could craft some more or less powerful.

Let's walk through them starting from the less efficient to the best one!

## The *one color* strategy
Efficiency: ![0%](https://progress-bar.dev/0)

## The *random* strategy
Efficiency: ![0%](https://progress-bar.dev/0)

## The *two-in-a-row* strategy
Efficiency: ![50%](https://progress-bar.dev/50)

## The *three-in-a-row* strategy
Efficiency: ![60%](https://progress-bar.dev/60)

## The *max* strategy
Efficiency: ![60%](https://progress-bar.dev/60)

## The *binary* strategy
Efficiency: ![70%](https://progress-bar.dev/70)

## The *best* strategy
Efficiency: ![90%](https://progress-bar.dev/90)

If you can think of any innovative strategy not listed here please comment, I will add your proposal to the list!